# 問題
**コンストラクタ関数が、配列を引数として受け取り、その配列の要素を使って平衡二分探索木を作成する BinarySearchTree という構造体を作成する問題**
この構造体は、BinarySeachTree の全ノードを保持する根ノードを表すインスタンス変数 root と、search と keyExists という 2 つのメソッドを持っています。  
`search` メソッド: key を受け取り、BinarySearchTree 内を探索し、部分木 subT を返します。キーが BinarySearchTree 内に見つからない場合は null を返します。  
`Exists(key)` メソッド: key を受け取り、そのキーが BinarySearchTree 内に存在するかどうかを判定する真偽値を返します。

## 問題概要 
**目的**  
与えられた配列を元に平行二分探索木を作成する `BinarySearchTree` クラスを実装すること  
また、以下のメソッドを実装すること
- `search(key)`: BinarySearchTree 内から key を見つけ、そのノードを根とする部分木を返す。見つからない場合は `null` を返す。
- `exists(key)`: BinarySearchTree 内に key が存在するかどうかを判定し、真偽値を返す。

## 入出力仕様
**search(key)メソッド**  
- **入力：** `integer`  
- **出力：** `binaryTree<integer> subT`（見つかった場合）, `null`（見つからなかった場合）

**exists(key)メソッド**  
- **入力：** `integer`  
- **出力：** `boolean`  

## 要件と制約
### 要件
- 与えられた整数の配列から平衡二分探索木（BST）を構築する `BinarySearchTree` クラスを実装する
- `search(key)` メソッドは、指定された key を持つノードを根とする部分木を返す
- `exists(key)` メソッドは、指定された key が BST に存在するかどうかを真偽値で返す
- 要素が存在しない場合、`search` は `null` を、`exists` は `false` を返す

### 制約
- 入力配列は昇順にソートされている
- 配列内の要素はすべて整数で、重複しない
- BST 構築時には再帰を用いること

## テストケース
| # | 入力配列 | 検索キー `key` | `search(key)` の出力 | `exists(key)` の出力 | 備考 |
| - | - | - | - | - | - |
| 1 | `[1,2,3,4,5,6,7,8,9,10,11]` | `6` | - | `true` | - |
| 2 | `[1,2,3,4,5,6,7,8,9,10,11]` | `6` | `6` | - | - |
| 3 | `[1,2,3,4,5,6,7,8,9,10,11]` | `2` | - | `true` | - |
| 4 | `[1,2,3,4,5,6,7,8,9,10,11]` | `2` | `2` | - | - |
| 5 | `[1,2,3,4,5,6,7,8,9,10,11]` | `34` | `null` | - | - |


## アプローチ
**`BinarySearchTree` クラスの実装**
1. `toBinaryTree`関数を使って、root をつくる
2. コンストラクタ関数に引数として配列を渡す
3. 引数を昇順に並び返る

以下の2つのメソッドは再帰的なアプローチを取る  
**`search(key)`メソッドの実装**
1. 現在の根ノードをイテレータとして変数に格納する
2. whileループの使用: イテレータが null になるまで処理を続ける
3. `key` と一致した場合: そのイテレータを返す
4. `key` と一致しなかった場合: 
(1)`key`がイテレータより小さい: 左の子に進む  
(2)`key`がイテレータより大きい: 右の子に進む  
5. ループ終了時には null を返す

**`exists(key)`メソッドの実装**
基本的な実装方針は`search(key)`メソッドと同じ  
イテレータ または null を返していたところを、`true` または `false` を返すようにする  

## 実装方針
- 再帰処理によりノードをたどっていく
- null の可能性を考慮しておく

## 想定されるエラー・境界条件（Edge Cases）
- `root` や `iterator` が null → `null` を返す

## 悩んだ箇所
- 一度取り組んだことがあるため、悩んだ箇所はなかった

## 直面したエラーと解決策
- エラーはなかった

## 気づき
- 文字列を出力するために括弧をつけ忘れてしまっていたこと
- はじめ、既存のtoBinaryTree関数を使おうとしていたが、そもそもの目的が違っていたので途中で方針を修正した
- `search()`を再利用して`keyExists()`を実装することができること

## フィードバック・改善点
- `keyExists()`は`search()`を再利用して表現できること
- 静的メソッドの呼び出しは `self::` を使うと可読性が改善する