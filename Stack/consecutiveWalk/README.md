# 配列 arr が与えられるので、配列の単調増加している部分配列を返す consecutiveWalk という関数を作成する問題
配列の途中で単調減少する部分が出現したら、部分配列をリセットすること  
  
## 例: 配列 [1,2,3,2,4] が与えられたとき
最初に単調増加している部分は [1,2,3] になる  
その次の要素 2 が 3 より小さいので、一度リセットされる  
次に単調増加している部分は [2,4] となるため、[4,2] が出力される  
  
## 【Item クラス】
#### プロパティ
`int data: 要素の値`   
`Item next: 1つ先のノード`  
next はデフォルトでは null を設定  

## 【Stack クラス】
#### プロパティ
`Item head: 先頭のノード, デフォルトでは null に設定`  

#### メソッド
`void push(int data): スタックの先頭に Item を追加`  
`Integer pop(): スタックの先頭から Item を取り除き、その Item の値を返す。先頭が何も存在しない場合、null を返す。`  
`Integer peek(): スタックの先頭の Item の値を返す`  


## 関数の入出力例
入力のデータ型： `integer[] arr`  
出力のデータ型： `integer[]`  


## テストケース
1. `consecutiveWalk([3,4,20,45,56,6,4,3,2,3,9]) --> [9,3,2]`  
2. `consecutiveWalk([4,5,4,2,4,3646,34,64,3,0,-34,-54]) --> [-54]`  
3. `consecutiveWalk([4,5,4,2,4,3646,34,64,3,0,-34,-54,4]) --> [4,-54]`  
4. `consecutiveWalk([]) --> []`  
5. `consecutiveWalk([1]) --> [1]`  
6. `consecutiveWalk([1,2,3,2,4]) --> [4,2]`  


## 【思考プロセス】
#### ◾️ゴール  
配列の単調増加している部分配列を返す consecutiveWalk という関数を実装し、テストケースを正しく出力すること  

#### ◾️仮説（必要な要素）  
ゴールを達成するために必要な要素を整理  
  
1. Item クラスの定義  
- データを保持する変数  
- 次のノードを指し示すポインタを格納する変数  
  
2. Stack クラスの定義    
- 先頭ノードを head 変数で管理する  
- 各メソッドを指定された要件に基づき実装する
- メソッド1: push(ノードを追加)  
- メソッド2: pop(先頭ノードを取り出し)  
- メソッド3: peek(先頭ノードの値だけ出力)  

※ 1,2は[Common](../Common/php)に格納済み  

3. consecutiveWalk 関数を実装
- 目的: 配列の単調増加している部分を配列として出力すること  
- 「単調増加」: 隣り合う値が同じか、または大きくなっていくこと  
  
**手順**  
① 新たに部分配列を作るための空配列を用意する  
② 基本: 配列の要素をスタックにプッシュする  
③ スタックを空にするとき: スタックの先頭ノードが配列の要素よりも小さいとき（やり直し）  
- 値を比較する  
- peek を使って比較することで予期せぬ挙動を防ぐ  
④ スタックにある要素を①に格納していく  

#### ◾️検証  
- 仮説通りに実装し、期待通りの出力を得ることができた  

## 【悩んだ箇所】
- 問題文の解釈  
「配列の単調増加している部分配列を返す」と指定があるため、元の配列の順序と同じになるかと思っていた  
正しくは、例とテストケースより、スタックに積み上げた順番に取り出し、配列の後ろに追加していくことだとわかった  

## 【直面したエラーと解決策】
**エラー①**  
【内容】改行されていない  
【原因】PHP_EOLのつけ忘れ  
【解決策】PHP_EOLをつける  

**エラー②**  
【内容】期待される出力と逆順に表示される  
【原因】スタックから取り出した順に先頭に追加されているため  
【解決策】array_pushを使う  

## 【気づき】
- `__DIR__` の使い方を知ったことで、スクリプトの実行場所に依存せずファイルを読み取れるようになったこと  
- 一度出会ったことのあるエラーにスムーズに対応できたこと(`%`の表示)  

## 【フィードバック・改善点】
- whileループではなく新たなスタックを作り、初期化する  
→ スタックの挙動を明確にする意図があったため、採用はせず、考えとしてインプットすることにした  