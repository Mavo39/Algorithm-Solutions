# 出荷予定の荷物の体積を表す、正の整数で構成された配列 packages が与えられる。出荷チームは、体積の小さい荷物どうしをパッケージで梱包し、合計体積の新しい荷物を作成する。この新しい荷物を作成するために使われた 2 つの荷物は配列から削除され、代わりに新しい荷物が元の配列に追加される。このサイクルは荷物が 1 つになるまで続く。この処理で使われたパッケージの合計を返す、shipmentVolumePackages という関数を使って作成する問題

## 例: [5,3,10,9,4]
最初に使われるパッケージは、3 + 4 = 7 であり、出荷リストは [5,10,9,7] になる。  
次のサイクルでは、パッケージは 5 + 7 = 12、出荷リストは [10,9,12] になる。  
3 周期目のパッケージは 9 + 10 = 19、出荷リストは [12,19] になる。  
最後のサイクルではパッケージは 12 + 19 = 31、出荷リストは [31] になる。  
今まで使用した合計のパッケージは、7 + 12 + 19 + 31 = 69 となり、69 を返す。  


## 関数の入出力例
入力のデータ型： `integer[] packages`  
出力のデータ型： `integer[]`  


## テストケース
1. `shipmentVolumePackages([6,5,6]) --> 28`  
2. `shipmentVolumePackages([5,3,10,9,4]) --> 69`  
3. `shipmentVolumePackages([15]) --> 0`  
4. `shipmentVolumePackages([1,2,3,4,5,6,10]) --> 80`  
5. `shipmentVolumePackages([5,4,3,2,1]) --> 33` 
6. `shipmentVolumePackages([45,65,20,3,4,5,66,19,23,3,1]) --> 700` 
  

## 【思考プロセス】
#### ◾️ゴール  
shipmentVolumePackages を実装し、テストケースを正しく出力すること  

#### ◾️仮説  
【必要な要素】  
1. 小計・合計をつかって数を管理する  
- 小計: 最小値2つの合計
- 合計: 小計をこれまでの合計に加えたもの
2. 配列を昇順に並び替え
- 配列から最小値を見つけやすくするため
3. 小計をリストに追加する  
- 最小値2つはポップによって配列から取り出す
- 小計をプッシュして新たに配列に追加する  
4. 合計を返す

#### ◾️検証  
- 仮説に沿って実装し、期待通りの出力結果が得られた
- ただし、実装したコードはQueueを使用しておらず、別の実装方法を他の方のコードから学習した  

## 【悩んだ箇所】
1. 1番小さい数と2番目に小さい数を見つけ出す方法  
- 当初、ソートを使わずに配列内で最小値を見つけようとしていた
- ループの都度、新たに最小値と2番目に小さい数を見つけるのは非効率だと感じた
- 紙に小さい順にするために、テストケースの配列を小さい順から書いていたときに、ソートすればいいと思いついた

2. 小計を求めた後、1番小さい数と2番目に小さい数だった要素をどうやって配列から除外するか
- ポップすればいいか、という考えのもと実装し、これで大丈夫だと確信した

3. Queueを使うという発想は思いついても実装方法が検討つかず
- 小計をキューで管理し、最後に足すことで実装できそうだと考えたが、わざわざキューを使う理由にはならないと判断した
- キューのパートということは、キューを使えれば使いたいと思ったが、具体的にどこをキューとして使えばいいかがわからなかった
- 上記の方法で実装した後の、解答例を見て「こんな方法があるのか」とわかった  


## 【直面したエラーと解決策】
**エラー①**  
【原因】関数 assertEqual() の戻り値がないため、呼び出し元で . PHP_EOL をしても改行されない
- assertEqual() の中で echo "True"; と出力しているが、関数自体は値を返していない（＝戻り値は null）
- そのため、呼び出し元で assertEqual() . PHP_EOL としても、`null . PHP_EOL` という意味不明な処理になってしまい、改行されない
【解決策】関数内で改行する  

```php
// 改善前（改行されない）
function assertEqual(...) {
    echo "True";
}
assertEqual() . PHP_EOL;

// 改善後（関数の中で改行も出力）
function assertEqual(...) {
    echo "True" . PHP_EOL;
}
assertEqual();

// または
function assertEqual(...) {
    echo "True\n";
}
assertEqual();
```
※ 本文では簡単に結果を出力することを目的としているため、文字列内での改行を採用  


## 【気づき】
- キューを使わずに実装していたこと  
- キューを使って実装する意味を自分の中では思いつかなかったが、他の方のコードを見て、優先度付きキューを使って、実装できることを知った
- キュークラスが標準であること
- 優先度の高さを担保するために、値にマイナスをつけるという視点が斬新だった

## 【フィードバック・改善点】
- キューを使った実装
- 改行のタイミングを調整すること